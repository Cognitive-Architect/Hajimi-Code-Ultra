# HAJIMI-V2.1-MVP-CORE-è‡ªæµ‹è¡¨-v1.0.md

---

## çŠ¶æ€æœºæ¨¡å—ï¼ˆSTM-001~008ï¼‰

| è‡ªæµ‹ID | æµ‹è¯•é¡¹ | éªŒè¯å‘½ä»¤ | é€šè¿‡æ ‡å‡† | å¤±è´¥åé¦ˆ | çŠ¶æ€ |
|--------|--------|----------|----------|----------|------|
| STM-001 | è·å–å½“å‰çŠ¶æ€ | `curl http://localhost:3000/api/v1/state/current` | è¿”å›JSONå«`state`å’Œ`history`å­—æ®µ | æ£€æŸ¥çŠ¶æ€æœºæ˜¯å¦åˆå§‹åŒ– | ğŸ”´ |
| STM-002 | åˆæ³•æµè½¬IDLEâ†’DESIGN | `curl -X POST -H "Content-Type: application/json" -d '{"to":"DESIGN","agent":"pm"}' http://localhost:3000/api/v1/state/transition` | è¿”å›`success: true` | æ£€æŸ¥PMæƒé™å’Œæµè½¬è§„åˆ™ | ğŸ”´ |
| STM-003 | åˆæ³•æµè½¬DESIGNâ†’CODE | `curl -X POST -H "Content-Type: application/json" -d '{"to":"CODE","agent":"engineer"}' http://localhost:3000/api/v1/state/transition` | è¿”å›`success: true` | æ£€æŸ¥engineerè§’è‰²æƒé™ | ğŸ”´ |
| STM-004 | éæ³•æµè½¬è¢«æ‹’ç» | `curl -X POST -H "Content-Type: application/json" -d '{"to":"DEPLOY","agent":"pm"}' http://localhost:3000/api/v1/state/transition` | è¿”å›403é”™è¯¯å’Œ`TRANSITION_REJECTED` | æ£€æŸ¥è§„åˆ™å¼•æ“æ˜¯å¦æ­£ç¡®æ‹¦æˆª | ğŸ”´ |
| STM-005 | çŠ¶æ€å†å²è®°å½•å®Œæ•´ | `curl http://localhost:3000/api/v1/state/current` | `history`æ•°ç»„åŒ…å«æ‰€æœ‰æµè½¬è®°å½• | æ£€æŸ¥TSAæŒä¹…åŒ–æ˜¯å¦æ­£å¸¸ | ğŸ”´ |
| STM-006 | è®¢é˜…é€šçŸ¥æœºåˆ¶ | WebSocket/EventSourceæµ‹è¯• | çŠ¶æ€å˜æ›´æ—¶è§¦å‘å›è°ƒ | æ£€æŸ¥äº‹ä»¶è®¢é˜…ç³»ç»Ÿ | ğŸ”´ |
| STM-007 | æƒé™éªŒè¯ | `curl -X POST -H "Content-Type: application/json" -d '{"to":"AUDIT","agent":"pm"}' http://localhost:3000/api/v1/state/transition` | è¿”å›403ï¼Œæç¤ºéœ€è¦engineerè§’è‰² | æ£€æŸ¥è§’è‰²æƒé™æ˜ å°„ | ğŸ”´ |
| STM-008 | å®Œæ•´æµè½¬é“¾è·¯ | è„šæœ¬æ‰§è¡ŒIDLEâ†’DESIGNâ†’CODEâ†’AUDITâ†’BUILDâ†’DEPLOYâ†’DONE | æ¯ä¸ªæµè½¬éƒ½æˆåŠŸ | æ£€æŸ¥å®Œæ•´çŠ¶æ€æœºé“¾æ¡ | ğŸ”´ |

---

## æ²»ç†å¼•æ“æ¨¡å—ï¼ˆGOV-001~006ï¼‰

| è‡ªæµ‹ID | æµ‹è¯•é¡¹ | éªŒè¯å‘½ä»¤ | é€šè¿‡æ ‡å‡† | å¤±è´¥åé¦ˆ | çŠ¶æ€ |
|--------|--------|----------|----------|----------|------|
| GOV-001 | PMåˆ›å»ºææ¡ˆ | `curl -X POST -H "Content-Type: application/json" -d '{"proposer":"pm","title":"æµ‹è¯•ææ¡ˆ","description":"æµ‹è¯•","targetState":"DESIGN"}' http://localhost:3000/api/v1/governance/proposals` | è¿”å›201ï¼Œææ¡ˆåˆ›å»ºæˆåŠŸ | æ£€æŸ¥PMæƒé™éªŒè¯ | ğŸ”´ |
| GOV-002 | éPMåˆ›å»ºè¢«æ‹’ | `curl -X POST -H "Content-Type: application/json" -d '{"proposer":"engineer","title":"éæ³•ææ¡ˆ","description":"æµ‹è¯•","targetState":"DESIGN"}' http://localhost:3000/api/v1/governance/proposals` | è¿”å›403ï¼Œæƒé™é”™è¯¯ | æ£€æŸ¥è§’è‰²æƒé™æ‹¦æˆª | ğŸ”´ |
| GOV-003 | åˆ—è¡¨å€’åºæ’åˆ— | `curl http://localhost:3000/api/v1/governance/proposals` | æŒ‰createdAté™åº | æ£€æŸ¥æ’åºé€»è¾‘ | ğŸ”´ |
| GOV-004 | 30åˆ†é’Ÿè¿‡æœŸ | ç­‰å¾…30åˆ†é’Ÿæˆ–ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ | çŠ¶æ€å˜ä¸ºexpired | æ£€æŸ¥è¿‡æœŸå®šæ—¶å™¨ | ğŸ”´ |
| GOV-005 | æŠ•ç¥¨æäº¤ç»Ÿè®¡ | `curl -X POST -H "Content-Type: application/json" -d '{"proposalId":"xxx","choice":"approve"}' http://localhost:3000/api/v1/governance/vote` | è¿”å›æŠ•ç¥¨ç»Ÿè®¡ç»“æœ | æ£€æŸ¥æŠ•ç¥¨æƒé‡è®¡ç®— | ğŸ”´ |
| GOV-006 | 60%é˜ˆå€¼è‡ªåŠ¨æ‰§è¡Œ | å¤šè§’è‰²æŠ•ç¥¨ä½¿é€šè¿‡ç‡è¾¾åˆ°60% | ææ¡ˆçŠ¶æ€å˜ä¸ºapprovedå¹¶è§¦å‘çŠ¶æ€æµè½¬ | æ£€æŸ¥é˜ˆå€¼è®¡ç®—å’Œè‡ªåŠ¨æ‰§è¡Œ | ğŸ”´ |

---

## A2Aæ¶ˆæ¯æ¨¡å—ï¼ˆA2A-001~004ï¼‰

| è‡ªæµ‹ID | æµ‹è¯•é¡¹ | éªŒè¯å‘½ä»¤ | é€šè¿‡æ ‡å‡† | å¤±è´¥åé¦ˆ | çŠ¶æ€ |
|--------|--------|----------|----------|----------|------|
| A2A-001 | å‘é€æ¶ˆæ¯ | `curl -X POST -H "Content-Type: application/json" -d '{"sender":"pm","receiver":"arch","content":"æµ‹è¯•æ¶ˆæ¯","type":"chat"}' http://localhost:3000/api/v1/a2a/send` | è¿”å›æ¶ˆæ¯å¯¹è±¡ï¼Œå«idå’Œtimestamp | æ£€æŸ¥æ¶ˆæ¯åˆ›å»ºå’ŒæŒä¹…åŒ– | ğŸ”´ |
| A2A-002 | æ¶ˆæ¯å†å²æŸ¥è¯¢ | `curl "http://localhost:3000/api/v1/a2a/history?sessionId=test&page=1&pageSize=20"` | è¿”å›åˆ†é¡µæ¶ˆæ¯åˆ—è¡¨ | æ£€æŸ¥TSAæŸ¥è¯¢å’Œåˆ†é¡µ | ğŸ”´ |
| A2A-003 | SecondMeé€‚é… | `curl -X POST -H "Content-Type: application/json" -d '{"sender":"pm","receiver":"secondme:assistant","content":"ä½ å¥½"}' http://localhost:3000/api/v1/a2a/send` | è¿”å›AIå›å¤æ¶ˆæ¯ | æ£€æŸ¥Mocké€‚é…å™¨æˆ–çœŸå®API | ğŸ”´ |
| A2A-004 | æµå¼æ¶ˆæ¯å‘é€ | WebSocket/SSEè¿æ¥æµ‹è¯• | æ”¶åˆ°æµå¼å“åº”å— | æ£€æŸ¥æµå¼å“åº”å¤„ç† | ğŸ”´ |

---

## APIä¸æƒé™æ¨¡å—ï¼ˆAPI-001~005ï¼‰

| è‡ªæµ‹ID | æµ‹è¯•é¡¹ | éªŒè¯å‘½ä»¤ | é€šè¿‡æ ‡å‡† | å¤±è´¥åé¦ˆ | çŠ¶æ€ |
|--------|--------|----------|----------|----------|------|
| API-001 | ç»Ÿä¸€é”™è¯¯æ ¼å¼ | `curl http://localhost:3000/api/v1/nonexistent` | è¿”å›æ ‡å‡†é”™è¯¯JSONæ ¼å¼ | æ£€æŸ¥é”™è¯¯å¤„ç†ä¸­é—´ä»¶ | ğŸ”´ |
| API-002 | Tokenè®¤è¯ | `curl -H "Authorization: Bearer pm:pm:1707830400000" http://localhost:3000/api/v1/state/current` | è®¤è¯é€šè¿‡ï¼Œè¿”å›æ•°æ® | æ£€æŸ¥Tokenè§£æå’ŒéªŒè¯ | ğŸ”´ |
| API-003 | è§’è‰²æƒé™æ‹¦æˆª | `curl -H "Authorization: Bearer eng:engineer:1707830400000" -X POST -d '{"to":"DESIGN"}' http://localhost:3000/api/v1/state/transition` | è¿”å›403ï¼Œæƒé™ä¸è¶³ | æ£€æŸ¥è§’è‰²æƒé™æ£€æŸ¥ | ğŸ”´ |
| API-004 | Zodè¯·æ±‚éªŒè¯ | `curl -X POST -H "Content-Type: application/json" -d '{"invalid":"data"}' http://localhost:3000/api/v1/a2a/send` | è¿”å›400ï¼ŒéªŒè¯é”™è¯¯ | æ£€æŸ¥Zod SchemaéªŒè¯ | ğŸ”´ |
| API-005 | é”™è¯¯ä»£ç åˆ†ç±» | è§¦å‘å„ç±»é”™è¯¯ | é”™è¯¯ä»£ç ç¬¦åˆåˆ†ç±»è§„èŒƒ | æ£€æŸ¥ErrorCodeæšä¸¾ | ğŸ”´ |

---

## React Hooksæ¨¡å—ï¼ˆHOOK-001~004ï¼‰

| è‡ªæµ‹ID | æµ‹è¯•é¡¹ | éªŒè¯å‘½ä»¤ | é€šè¿‡æ ‡å‡† | å¤±è´¥åé¦ˆ | çŠ¶æ€ |
|--------|--------|----------|----------|----------|------|
| HOOK-001 | useTSAæ•°æ®è¯»å†™ | Reactç»„ä»¶æµ‹è¯• | valueæ­£ç¡®æ›´æ–°ï¼ŒloadingçŠ¶æ€æ­£ç¡® | æ£€æŸ¥HookçŠ¶æ€ç®¡ç† | ğŸ”´ |
| HOOK-002 | useTSAé”™è¯¯å¤„ç† | æ¨¡æ‹ŸTSAé”™è¯¯ | errorå¯¹è±¡æ­£ç¡®è®¾ç½® | æ£€æŸ¥é”™è¯¯è¾¹ç•Œ | ğŸ”´ |
| HOOK-003 | useAgentæ¶ˆæ¯å‘é€ | Reactç»„ä»¶æµ‹è¯• | æ¶ˆæ¯æ­£ç¡®æ·»åŠ åˆ°åˆ—è¡¨ | æ£€æŸ¥æ¶ˆæ¯çŠ¶æ€æ›´æ–° | ğŸ”´ |
| HOOK-004 | useGovernanceææ¡ˆæ“ä½œ | Reactç»„ä»¶æµ‹è¯• | ææ¡ˆCRUDæ“ä½œæ­£å¸¸ | æ£€æŸ¥æ²»ç†çŠ¶æ€ç®¡ç† | ğŸ”´ |

---

## Fabricè£…å¤‡æ¨¡å—ï¼ˆFAB-001~005ï¼‰

| è‡ªæµ‹ID | æµ‹è¯•é¡¹ | éªŒè¯å‘½ä»¤ | é€šè¿‡æ ‡å‡† | å¤±è´¥åé¦ˆ | çŠ¶æ€ |
|--------|--------|----------|----------|----------|------|
| FAB-001 | Patternç±»å‹æ£€æŸ¥ | `npm run test:types` | 5ä¸ªè£…å¤‡ç¬¦åˆPatternç±»å‹å®šä¹‰ | æ£€æŸ¥TypeScriptç±»å‹ | ğŸ”´ |
| FAB-002 | è£…å¤‡åŠ è½½æµ‹è¯• | `npm run test:patterns` | æ³¨å†Œä¸­å¿ƒå¯åŠ è½½7ä¸ªäººæ ¼ | æ£€æŸ¥è£…å¤‡æ³¨å†Œé€»è¾‘ | ğŸ”´ |
| FAB-003 | Tokené™åˆ¶æ£€æŸ¥ | ä»£ç å®¡æŸ¥ | Tokené™åˆ¶æ­£ç¡®ï¼ˆ2000/1500ï¼‰ | æ£€æŸ¥config.tokenLimit | ğŸ”´ |
| FAB-004 | å˜é‡æ’å€¼æ¸²æŸ“ | `npm run test:renderer` | å˜é‡æ­£ç¡®æ›¿æ¢åˆ°æ¨¡æ¿ | æ£€æŸ¥PatternRenderer | ğŸ”´ |
| FAB-005 | å®Œæ•´Promptç”Ÿæˆ | è¿è¡Œæ¸²æŸ“æµ‹è¯• | å¯ç”Ÿæˆå®Œæ•´Promptæ–‡æœ¬ | æ£€æŸ¥æ¸²æŸ“å¼•æ“ | ğŸ”´ |

---

## TSAå®Œå–„æ¨¡å—ï¼ˆTSA-001~004ï¼‰

| è‡ªæµ‹ID | æµ‹è¯•é¡¹ | éªŒè¯å‘½ä»¤ | é€šè¿‡æ ‡å‡† | å¤±è´¥åé¦ˆ | çŠ¶æ€ |
|--------|--------|----------|----------|----------|------|
| TSA-001 | å®šæœŸæ¸…ç†ä»»åŠ¡ | ç­‰å¾…1å°æ—¶æˆ–æ‰‹åŠ¨è§¦å‘ | è¿‡æœŸæ•°æ®è¢«æ¸…ç† | æ£€æŸ¥LifecycleManager | ğŸ”´ |
| TSA-002 | æ•°æ®è¿ç§» | æ¨¡æ‹Ÿè®¿é—®é¢‘ç‡å˜åŒ– | çƒ­æ•°æ®æ™‹å‡ï¼Œå†·æ•°æ®é™çº§ | æ£€æŸ¥è¿ç§»é€»è¾‘ | ğŸ”´ |
| TSA-003 | å‘½ä¸­ç‡ç»Ÿè®¡ | `curl http://localhost:3000/api/v1/tsa/metrics` | è¿”å›å„å±‚å‘½ä¸­ç‡ | æ£€æŸ¥TSAMonitor | ğŸ”´ |
| TSA-004 | ç›‘æ§æŒ‡æ ‡ | æŸ¥çœ‹ç›‘æ§é¢æ¿ | æ˜¾ç¤ºçƒ­å±‚/æ¸©å±‚/å†·å±‚æŒ‡æ ‡ | æ£€æŸ¥æŒ‡æ ‡æ”¶é›† | ğŸ”´ |

---

## æµ‹è¯•ä½“ç³»æ¨¡å—ï¼ˆTEST-001~006ï¼‰

| è‡ªæµ‹ID | æµ‹è¯•é¡¹ | éªŒè¯å‘½ä»¤ | é€šè¿‡æ ‡å‡† | å¤±è´¥åé¦ˆ | çŠ¶æ€ |
|--------|--------|----------|----------|----------|------|
| TEST-001 | å•å…ƒæµ‹è¯•è¦†ç›–ç‡ | `npm run test:coverage` | è¦†ç›–ç‡>80% | æ£€æŸ¥jestè¦†ç›–ç‡æŠ¥å‘Š | ğŸ”´ |
| TEST-002 | çŠ¶æ€æœºå•å…ƒæµ‹è¯• | `npm run test:state` | æ‰€æœ‰çŠ¶æ€æœºæµ‹è¯•é€šè¿‡ | æ£€æŸ¥æµ‹è¯•ç”¨ä¾‹ | ğŸ”´ |
| TEST-003 | æ²»ç†å¼•æ“å•å…ƒæµ‹è¯• | `npm run test:governance` | æ‰€æœ‰æ²»ç†æµ‹è¯•é€šè¿‡ | æ£€æŸ¥æµ‹è¯•ç”¨ä¾‹ | ğŸ”´ |
| TEST-004 | A2AæœåŠ¡å•å…ƒæµ‹è¯• | `npm run test:a2a` | æ‰€æœ‰A2Aæµ‹è¯•é€šè¿‡ | æ£€æŸ¥æµ‹è¯•ç”¨ä¾‹ | ğŸ”´ |
| TEST-005 | é›†æˆæµ‹è¯• | `npm run test:integration` | é›†æˆæµ‹è¯•é€šè¿‡ | æ£€æŸ¥MSW mock | ğŸ”´ |
| TEST-006 | E2Eæµ‹è¯• | `npm run test:e2e` | Playwrightæµ‹è¯•é€šè¿‡ | æ£€æŸ¥æµè§ˆå™¨è‡ªåŠ¨åŒ– | ğŸ”´ |

---

## ç»Ÿè®¡æ±‡æ€»

| æ¨¡å— | æ€»æ•° | é€šè¿‡ | å¤±è´¥ | å¾…æµ‹è¯• | é€šè¿‡ç‡ |
|------|------|------|------|--------|--------|
| çŠ¶æ€æœºæ¨¡å— | 8 | 0 | 0 | 8 | 0% |
| æ²»ç†å¼•æ“æ¨¡å— | 6 | 0 | 0 | 6 | 0% |
| A2Aæ¶ˆæ¯æ¨¡å— | 4 | 0 | 0 | 4 | 0% |
| APIä¸æƒé™æ¨¡å— | 5 | 0 | 0 | 5 | 0% |
| React Hooksæ¨¡å— | 4 | 0 | 0 | 4 | 0% |
| Fabricè£…å¤‡æ¨¡å— | 5 | 0 | 0 | 5 | 0% |
| TSAå®Œå–„æ¨¡å— | 4 | 0 | 0 | 4 | 0% |
| æµ‹è¯•ä½“ç³»æ¨¡å— | 6 | 0 | 0 | 6 | 0% |
| **æ€»è®¡** | **42** | **0** | **0** | **42** | **0%** |

---

## ç¼ºå¤±åŠŸèƒ½ç‚¹æ£€æŸ¥æ¸…å•

æ ¹æ®diff.mdä¸­çš„ç¼ºå¤±åŠŸèƒ½ç‚¹ï¼Œæœ¬è‡ªæµ‹è¡¨éªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š

| ç¼ºå¤±åŠŸèƒ½ç‚¹ | å¯¹åº”è‡ªæµ‹ID | éªŒè¯çŠ¶æ€ |
|------------|------------|----------|
| çŠ¶æ€æœºæ ¸å¿ƒæµè½¬å¼•æ“ | STM-001~008 | ğŸ”´ å¾…éªŒè¯ |
| ææ¡ˆåˆ›å»º/æŸ¥è¯¢/è¿‡æœŸç®¡ç† | GOV-001~004 | ğŸ”´ å¾…éªŒè¯ |
| æŠ•ç¥¨æäº¤/é˜ˆå€¼è®¡ç®—/è‡ªåŠ¨æ‰§è¡Œ | GOV-005~006 | ğŸ”´ å¾…éªŒè¯ |
| A2Aæ¶ˆæ¯å‘é€/SecondMeé€‚é… | A2A-001~004 | ğŸ”´ å¾…éªŒè¯ |
| ç»Ÿä¸€é”™è¯¯å¤„ç†/æƒé™éªŒè¯ | API-001~005 | ğŸ”´ å¾…éªŒè¯ |
| React Hookså°è£… | HOOK-001~004 | ğŸ”´ å¾…éªŒè¯ |
| Fabricè£…å¤‡PatternåŒ– | FAB-001~005 | ğŸ”´ å¾…éªŒè¯ |
| TSAç”Ÿå‘½å‘¨æœŸç®¡ç† | TSA-001~004 | ğŸ”´ å¾…éªŒè¯ |
| æµ‹è¯•å¥—ä»¶(>80%è¦†ç›–ç‡) | TEST-001~006 | ğŸ”´ å¾…éªŒè¯ |

---

## ä½¿ç”¨è¯´æ˜

### æ‰§è¡Œå•ä¸ªè‡ªæµ‹ç‚¹

```bash
# ç¤ºä¾‹ï¼šæ‰§è¡ŒSTM-001
curl -s http://localhost:3000/api/v1/state/current | jq .

# ç¤ºä¾‹ï¼šæ‰§è¡ŒGOV-001
curl -X POST http://localhost:3000/api/v1/governance/proposals \
  -H "Content-Type: application/json" \
  -d '{
    "proposer": "pm",
    "title": "æµ‹è¯•ææ¡ˆ",
    "description": "æµ‹è¯•æè¿°",
    "targetState": "DESIGN"
  }' | jq .
```

### æ‰¹é‡æ‰§è¡Œè‡ªæµ‹

```bash
# æ‰§è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•
npm run test:unit

# æ‰§è¡Œæ‰€æœ‰é›†æˆæµ‹è¯•
npm run test:integration

# æ‰§è¡Œè¦†ç›–ç‡æ£€æŸ¥
npm run test:coverage
```

### çŠ¶æ€æ ‡è®°è¯´æ˜

| çŠ¶æ€ | å«ä¹‰ |
|------|------|
| ğŸ”´ | å¾…æµ‹è¯• - å°šæœªæ‰§è¡Œ |
| ğŸŸ¡ | æµ‹è¯•ä¸­ - æ­£åœ¨éªŒè¯ |
| ğŸŸ¢ | å·²é€šè¿‡ - éªŒè¯æˆåŠŸ |
| âŒ | å¤±è´¥ - éœ€è¦ä¿®å¤ |

---

*æ–‡æ¡£ç‰ˆæœ¬: v1.0 | æ—¥æœŸ: 2026-02-13*
