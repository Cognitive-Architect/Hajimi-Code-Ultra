# HAJIMI Phase2 技术债务诚实声明

> **版本**: v2.0-alpha  
> **日期**: 2026-02-17  
> **债务总数**: 12项（P1: 6项，P2: 6项）

---

## P1 债务（高优先级，影响生产部署）

### DEBT-PHASE2-001: BSDiff专利授权（商业部署）
- **所属路线**: A-LCR
- **债务内容**: HCTX协议使用BSDiff差分压缩算法，商业部署需获得授权
- **缓解策略**: 预谈判授权协议，社区版可用xdelta替代
- **清偿计划**: v2.1-beta前完成授权谈判或切换开源替代方案
- **责任人**: 黄瓜睦

### DEBT-PHASE2-002: WebRTC NAT穿透成功率
- **所属路线**: A-LCR  
- **债务内容**: P2P连接在某些NAT环境下可能失败
- **缓解策略**: TURN服务器备用，P2P失败转中继模式
- **清偿计划**: v2.1-beta部署TURN集群
- **责任人**: 黄瓜睦

### DEBT-PHASE2-003: 复杂JavaScript动态类型推断准确率
- **所属路线**: B-Polyglot
- **债务内容**: 复杂JS动态类型推断准确率可能低于95%目标
- **缓解策略**: 人工标注兜底，准确率<95%时告警
- **清偿计划**: v2.1-beta引入ML辅助类型推断
- **责任人**: 唐音

### DEBT-PHASE2-004: Electron包体积100MB目标
- **所属路线**: E-Desktop
- **债务内容**: Electron基础包体积约50MB，加上依赖可能超100MB
- **缓解策略**: ASAR压缩+按需加载，超体积则分基础/完整版
- **清偿计划**: v2.1-beta实现懒加载拆分
- **责任人**: 客服小祥

### DEBT-PHASE2-005: GitHub Action运行时长限制
- **所属路线**: F-AutoPay
- **债务内容**: 大型训练任务可能超过6小时限制
- **缓解策略**: 大训练任务拆分为多Job，Artifacts传递
- **清偿计划**: 已实施多Job拆分，持续优化
- **责任人**: 压力怪

### DEBT-PHASE2-006: 六线并行资源争夺
- **所属路线**: ALL
- **债务内容**: 内存/CPU资源在六线同时运行时可能竞争
- **缓解策略**: 黄瓜睦仲裁，优先级A>E>C>B>D>F
- **清偿计划**: v2.1-beta实现资源调度器
- **责任人**: 黄瓜睦

---

## P2 债务（中优先级，有缓解方案）

### DEBT-PHASE2-007: MCP协议版本锁定
- **所属路线**: C-MCP
- **债务内容**: 当前锁定2024-11-25版本，后续需适配器升级
- **缓解策略**: 封装适配层，版本变更时统一更新
- **清偿计划**: v2.2-stable评估升级
- **责任人**: Soyorin

### DEBT-PHASE2-008: 浏览器扩展权限差异
- **所属路线**: C-MCP
- **债务内容**: Chrome/Firefox扩展API存在差异
- **缓解策略**: 接口预留，分别实现适配层
- **清偿计划**: v2.2-stable完成双平台支持
- **责任人**: Soyorin

### DEBT-PHASE2-009: B站反爬策略变化
- **所属路线**: D-Claw
- **债务内容**: B站可能更新反爬策略导致抓取失败
- **缓解策略**: Playwright自适应降级，人工干预备用
- **清偿计划**: 持续监控，即时适配
- **责任人**: 咕咕嘎嘎

### DEBT-PHASE2-010: Twitter/X API限制
- **所属路线**: D-Claw
- **债务内容**: Twitter API严格限制，依赖Nitter代理稳定性
- **缓解策略**: 多代理源切换，本地缓存兜底
- **清偿计划**: 评估官方API接入或放弃Twitter源
- **责任人**: 咕咕嘎嘎

### DEBT-PHASE2-011: Mike审计Agent自动化
- **所属路线**: F-AutoPay
- **债务内容**: 当前Mike审计为模拟模式，需接入真实审计API
- **缓解策略**: 模拟模式已验证流程，预留API接入点
- **清偿计划**: v2.2-stable接入真实审计Agent
- **责任人**: 压力怪

### DEBT-PHASE2-012: macOS签名公证
- **所属路线**: E-Desktop
- **债务内容**: macOS发布需要Apple开发者账号签名公证
- **缓解策略**: 配置GitHub Secrets，CI流程已准备
- **清偿计划**: 获取开发者账号后启用
- **责任人**: 客服小祥

---

## 债务统计

| 等级 | 数量 | 生产影响 | 清偿时限 |
|:-----|:----:|:---------|:---------|
| P1 | 6 | 可能阻塞部署 | v2.1-beta |
| P2 | 6 | 有缓解方案 | v2.2-stable |

---

## 诚实声明

> 本文件遵循HAJIMI项目"债务诚实"原则，所有已知技术债务均已显性化声明，无隐藏债务。
> 
> 验收人: 压力怪 (Audit)  
> 日期: 2026-02-17  
> 状态: ✅ 已归档
